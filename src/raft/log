disconnect(0)
me = 0
server handler
create goroutine, program continue
disconnect(1)
me = 1
server handler
create goroutine, program continue
disconnect(2)
me = 2
server handler
create goroutine, program continue
Follower = 0, term = 0, stage start......
follower = 0, term = 0, timeout = 944
connect(0)
connect(1)
connect(2)
Test (2A): initial election ...
checkOneLeader, sleep ms = 537 start
follower = 0, term = 0, running.........
Follower = 1, term = 0, stage start......
follower = 1, term = 0, timeout = 993
follower = 1, term = 0, running.........
Follower = 2, term = 0, stage start......
follower = 2, term = 0, timeout = 913
follower = 2, term = 0, running.........
checkOneLeader, sleep ms = 537 end
Get state, My role = 0, Id = 0, term = 0, I am not a reader
Get state, My role = 0, Id = 1, term = 0, I am not a reader
Get state, My role = 0, Id = 2, term = 0, I am not a reader
checkOneLeader, sleep ms = 461 start
follower = 2, get timer.C channel, time out
Follower = 2, term = 0, stage end......
Candidate = 2, term = 1, stage start......
electTimer = 449
candidate = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
candidate = 2, rpc executedId = 0, term = 1, send rpc request start......
candidate = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
candidate = 2, rpc executedId = 1, term = 1, send rpc request start......
My role = 0, my Id = 0, term = 0, args.Term = 1, receive a vote request from candidate = 2
My role = 0, my Id = 0, voteDone, start send channel, candidate = 2
My role = 0, my Id = 0, voteDone, somewhere receive channel, candidate = 2
My role = 0, my Id = 1, term = 0, args.Term = 1, receive a vote request from candidate = 2
My role = 0, my Id = 1, voteDone, start send channel, candidate = 2
My role = 0, my Id = 1, voteDone, somewhere receive channel, candidate = 2
follower = 0, get channel rf.rpcState
follower = 0, vote to somebody
follower = 0, term = 1, timeout = 884
follower = 1, get channel rf.rpcState
follower = 1, vote to somebody
follower = 1, term = 1, timeout = 821
follower = 1, term = 1, running.........
candidate = 2, rpc executedId = 0, term = 1, send rpc request end, result = true......
follower = 0, term = 1, running.........
candidate = 2, term = 1, rpcChan has not been closed
%!(EXTRA int=0)candidate = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
candidate = 2, term = 1, rpc executedId = 0, rpcReplyChan end
candidate = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
candidate = 2, rpc executedId = 1, term = 1, send rpc request end, result = true......
candidate = 2, term = 1, rpcChan has not been closed
%!(EXTRA int=1)candidate = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
candidate = 2, term = 1, rpc executedId = 1, rpcReplyChan end
candidate = 2, term = 1, server = 0, rpc succeeded
candidate = 2, term = 1, server = 0 voted a granted vote
candidate = 2, term = 1, server = 0, IsServerAllTrue = true, ValidServerCount = 3, rpcCount = 2
candidate = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
candidate = 2, term = 1, server = 1, rpc succeeded
candidate = 2, term = 1, server = 1 voted a granted vote
candidate = 2, term = 1, server = 1, IsServerAllTrue = true, ValidServerCount = 3, rpcCount = 3
candidate = 2, term = 1, numberOfVotes = 3, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 2, term = 1, get majority votes
Candidate = 2, term = 1, stage end......
leader = 2, term = 1, I am a leader now
leader = 2, term = 1, start a heartbeatTimer
candidate = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
candidate = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, start select
checkOneLeader, sleep ms = 461 end
Get state, My role = 0, Id = 0, term = 1, I am not a reader
Get state, My role = 0, Id = 1, term = 1, I am not a reader
Get state, My role = 2, Id = 2, term = 1, I am a reader
checkOneLeader, return leaders[lastTermWithLeader][0] = 2
leader = 2, term = 1, heartbeat timerout
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
follower = 0, term = 1, timeout = 887
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
follower = 1, term = 1, timeout = 863
follower = 0, term = 1, running.........
follower = 1, term = 1, running.........
leader = 2, term = 1, follower = 1, rpc succeed
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 2
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 3
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 3, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
Get state, My role = 0, Id = 0, term = 1, I am not a reader
Get state, My role = 0, Id = 1, term = 1, I am not a reader
Get state, My role = 2, Id = 2, term = 1, I am a reader
leader = 2, term = 1, heartbeat timerout
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 892
follower = 0, term = 1, running.........
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 872
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 4
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 4, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 5
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 858
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 6
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 6, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 915
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 7
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
follower = 1, term = 1, timeout = 875
follower = 1, term = 1, running.........
follower = 0, term = 1, timeout = 918
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 8
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 8, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 9
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
follower = 0, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
follower = 0, term = 1, timeout = 923
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 10
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 10, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
follower = 0, term = 1, running.........
follower = 1, term = 1, timeout = 823
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, start select
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 11
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
follower = 0, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
follower = 1, term = 1, timeout = 848
follower = 1, term = 1, running.........
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 12
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 12, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 0, rpcChan end
follower = 0, term = 1, timeout = 914
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 13
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
follower = 1, term = 1, timeout = 916
follower = 0, get channel rf.rpcState
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 14
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 14, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
follower = 0, term = 1, timeout = 920
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 15
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 996
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 833
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 16
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 16, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 17
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 807
follower = 0, term = 1, running.........
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
follower = 1, get channel rf.rpcState
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 18
follower = 1, term = 1, timeout = 801
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
follower = 1, term = 1, running.........
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 18, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 19
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 979
follower = 1, term = 1, running.........
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 863
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 20
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 20, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 21
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 876
follower = 0, term = 1, running.........
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
follower = 1, get channel rf.rpcState
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 22
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 22, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
follower = 1, term = 1, timeout = 891
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 23
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 836
follower = 1, term = 1, running.........
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 864
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 24
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 24, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 25
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
follower = 0, term = 1, timeout = 935
follower = 0, term = 1, running.........
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
follower = 1, get channel rf.rpcState
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 26
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 26, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
follower = 1, term = 1, timeout = 973
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 27
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 0, term = 1, timeout = 802
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 915
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 28
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 28, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 29
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 944
follower = 1, term = 1, running.........
follower = 0, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
follower = 0, term = 1, timeout = 973
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
My role = 0, Id = 0, term = 1, send heartbeatChan end
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 30
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 30, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 31
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 907
follower = 1, term = 1, running.........
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 934
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 32
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 32, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 33
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
follower = 0, term = 1, timeout = 963
follower = 1, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 1, rpcChan end
follower = 0, term = 1, running.........
follower = 1, term = 1, timeout = 941
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 34
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 34, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 35
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 886
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
follower = 0, get channel rf.rpcState
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 36
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 36, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
follower = 0, term = 1, timeout = 957
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 37
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 828
follower = 1, term = 1, running.........
follower = 0, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
follower = 0, term = 1, timeout = 849
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 38
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 38, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 39
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
follower = 0, term = 1, timeout = 966
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 40
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 40, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
follower = 1, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
follower = 1, term = 1, timeout = 950
follower = 1, term = 1, running.........
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 41
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 42
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 42, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 915
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
follower = 0, term = 1, timeout = 882
follower = 0, term = 1, running.........
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
Get state, My role = 0, Id = 0, term = 1, I am not a reader
Get state, My role = 0, Id = 1, term = 1, I am not a reader
Get state, My role = 2, Id = 2, term = 1, I am a reader
checkOneLeader, sleep ms = 479 start
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 43
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 993
follower = 1, term = 1, running.........
follower = 0, get channel rf.rpcState
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
follower = 0, term = 1, timeout = 917
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 44
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 44, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 45
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 852
follower = 0, term = 1, running.........
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 928
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 46
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 46, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 47
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
follower = 0, term = 1, timeout = 920
follower = 0, term = 1, running.........
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 890
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 48
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 48, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 49
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 0, term = 1, send heartbeatChan end
My role = 0, Id = 1, term = 1, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 929
follower = 1, term = 1, running.........
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 968
follower = 0, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 50
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 50, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
checkOneLeader, sleep ms = 479 end
Get state, My role = 0, Id = 0, term = 1, I am not a reader
Get state, My role = 0, Id = 1, term = 1, I am not a reader
Get state, My role = 2, Id = 2, term = 1, I am a reader
checkOneLeader, return leaders[lastTermWithLeader][0] = 2
  ... Passed --   3.5  3   52    0
My role = 0, my Id = 0, term = 1, will be killed now
My role = 0, my Id = 0, term = 1, has been killed
My role = 0, my Id = 1, term = 1, will be killed now
My role = 0, my Id = 1, term = 1, send exitChan
My role = 0, my Id = 1, term = 1, send exitChan over
follower = 1, term = 1, get channel rf.exitChan, break ExitServer
My role = 0, my Id = 0, term = 1, send exitChan
My role = 0, my Id = 0, term = 1, send exitChan over
My role = 0, my Id = 1, term = 1, has been killed
My role = 2, my Id = 2, term = 1, will be killed now
My role = 2, my Id = 2, term = 1, has been killed
follower = 0, term = 1, get channel rf.exitChan, break ExitServer
My role = 2, my Id = 2, term = 1, send exitChan
My role = 2, my Id = 2, term = 1, send exitChan over
leader = 2, term = 1, get channel rf.exitChan, break ExitServer
disconnect(0)
me = 0
server handler
create goroutine, program continue
disconnect(1)
me = 1
server handler
create goroutine, program continue
disconnect(2)
Follower = 0, term = 0, stage start......
me = 2
server handler
follower = 0, term = 0, timeout = 854
follower = 0, term = 0, running.........
Follower = 1, term = 0, stage start......
create goroutine, program continue
connect(0)
connect(1)
follower = 1, term = 0, timeout = 959
follower = 1, term = 0, running.........
connect(2)
Follower = 2, term = 0, stage start......
Test (2A): election after network failure ...
follower = 2, term = 0, timeout = 811
follower = 2, term = 0, running.........
checkOneLeader, sleep ms = 474 start
checkOneLeader, sleep ms = 474 end
Get state, My role = 0, Id = 0, term = 0, I am not a reader
Get state, My role = 0, Id = 1, term = 0, I am not a reader
Get state, My role = 0, Id = 2, term = 0, I am not a reader
checkOneLeader, sleep ms = 525 start
follower = 2, get timer.C channel, time out
Follower = 2, term = 0, stage end......
Candidate = 2, term = 1, stage start......
electTimer = 483
candidate = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
candidate = 2, rpc executedId = 0, term = 1, send rpc request start......
candidate = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
candidate = 2, rpc executedId = 1, term = 1, send rpc request start......
My role = 0, my Id = 0, term = 0, args.Term = 1, receive a vote request from candidate = 2
My role = 0, my Id = 0, voteDone, start send channel, candidate = 2
My role = 0, my Id = 0, voteDone, somewhere receive channel, candidate = 2
My role = 0, my Id = 1, term = 0, args.Term = 1, receive a vote request from candidate = 2
My role = 0, my Id = 1, voteDone, start send channel, candidate = 2
follower = 0, get channel rf.rpcState
follower = 0, vote to somebody
follower = 0, term = 1, timeout = 974
follower = 0, term = 1, running.........
My role = 0, my Id = 1, voteDone, somewhere receive channel, candidate = 2
follower = 1, get channel rf.rpcState
follower = 1, vote to somebody
follower = 1, term = 1, timeout = 998
follower = 1, term = 1, running.........
candidate = 2, rpc executedId = 0, term = 1, send rpc request end, result = true......
candidate = 2, term = 1, rpcChan has not been closed
%!(EXTRA int=0)candidate = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
candidate = 2, rpc executedId = 1, term = 1, send rpc request end, result = true......
candidate = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
candidate = 2, term = 1, rpcChan has not been closed
%!(EXTRA int=1)candidate = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
candidate = 2, term = 1, server = 0, rpc succeeded
candidate = 2, term = 1, server = 0 voted a granted vote
candidate = 2, term = 1, server = 0, IsServerAllTrue = true, ValidServerCount = 3, rpcCount = 2
candidate = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
candidate = 2, term = 1, rpc executedId = 1, rpcReplyChan end
candidate = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
candidate = 2, term = 1, server = 1, rpc succeeded
candidate = 2, term = 1, server = 1 voted a granted vote
candidate = 2, term = 1, server = 1, IsServerAllTrue = true, ValidServerCount = 3, rpcCount = 3
candidate = 2, term = 1, numberOfVotes = 3, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 2, term = 1, get majority votes
Candidate = 2, term = 1, stage end......
leader = 2, term = 1, I am a leader now
candidate = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
candidate = 2, term = 1, rpc executedId = 0, rpcReplyChan end
leader = 2, term = 1, heartbeat timerout
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
My role = 0, Id = 0, term = 1, get heartbeat from leader = 2
My role = 0, Id = 0, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 0, term = 1, AppendEntries true
My role = 0, Id = 0, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, get heartbeat from leader = 2
My role = 0, Id = 1, args.Term = 1, rf.currentTerm = 1
My role = 0, Id = 1, term = 1, AppendEntries true
My role = 0, Id = 1, term = 1, send heartbeatChan start
My role = 0, Id = 1, term = 1, send heartbeatChan end
My role = 0, Id = 0, term = 1, send heartbeatChan end
follower = 0, get channel rf.rpcState
follower = 0, term = 1, timeout = 984
follower = 0, term = 1, running.........
follower = 1, get channel rf.rpcState
follower = 1, term = 1, timeout = 958
follower = 1, term = 1, running.........
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, follower = 1, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 2
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = true......
leader = 2, term = 1, rpc executedId = 0, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 0, rpcChan sned
leader = 2, term = 1, rpc executedId = 0, rpcChan end
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned
leader = 2, term = 1, follower = 0, rpc succeed
heartbeat success......
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 3
leader = 2, term = 1, ValidServerCount = 3, rpcSucceedCount = 3, a heartbeat round is end, exit heartbeat
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 0, rpcReplyChan sned over
checkOneLeader, sleep ms = 525 end
Get state, My role = 0, Id = 0, term = 1, I am not a reader
Get state, My role = 0, Id = 1, term = 1, I am not a reader
Get state, My role = 2, Id = 2, term = 1, I am a reader
checkOneLeader, return leaders[lastTermWithLeader][0] = 2
TestReElection2A, First, if the leader disconnects, a new one should be elected.
TestReElection2A, First, leader1 = 2 disconnect
disconnect(2)
checkOneLeader, sleep ms = 471 start
leader = 2, term = 1, heartbeat timerout
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = false......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 3, rpc failure
leader = 2, term = 1, server = 1 failure times more than 1, set failure flag to it
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
leader = 2, term = 1, heartbeat timerout
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
checkOneLeader, sleep ms = 471 end
Get state, My role = 0, Id = 0, term = 1, I am not a reader
Get state, My role = 0, Id = 1, term = 1, I am not a reader
checkOneLeader, sleep ms = 506 start
leader = 2, term = 1, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 3, rpc failure
leader = 2, term = 1, server = 0 failure times more than 1, set failure flag to it
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan end
leader = 2, term = 1, heartbeat timerout
leader = 2, rpc executedId = 1, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 1, send rpc request start......
leader = 2, rpc executedId = 0, term = 1, set rpcTimeout = 500
leader = 2, term = 1, rpc executedId = 0, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, rpcLeaderReplyChan timeout, send rpcReplyChan
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 3, rpc failure
leader = 2, term = 1, server = 1 failure times more than 1, set failure flag to it
There is quorum
leader = 2, term = 1, heartbeat operation end, reset the leaderTimer
leader = 2, term = 1, stage of leader end
leader = 2, term = 1, start a heartbeatTimer
leader = 2, term = 1, start select
leader = 2, term = 1, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan
leader = 2, term = 1, rpc executedId = 1, rpcLeaderReplyChan timeout, send rpcReplyChan end
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = false......
leader = 2, term = 1, rpc executedId = 1, rpcChan has not been closed
leader = 2, term = 1, rpc executedId = 1, rpcChan sned
leader = 2, term = 1, rpc executedId = 1, rpcChan end
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned
leader = 2, term = 1, heartbeat timerout
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 3, rpc failure
leader = 2, term = 1, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan end
leader = 2, term = 1, server = 0 failure times more than 1, set failure flag to it
leader = 2, term = 1, follower = 0, rpc failure
leader = 2, term = 1, isServerAllTrue = false, ValidServerCount = 2, rpcSucceedCount = 3, rpc failure
leader = 2, term = 1, server = 1 failure times more than 1, set failure flag to it
leader = 2, term = 1, follower = 1, rpc failure
leader = 2, term = 1, rpc executedId = 1, rpcReplyChan sned over
follower = 1, get timer.C channel, time out
Follower = 1, term = 1, stage end......
Candidate = 1, term = 2, stage start......
electTimer = 409
candidate = 1, rpc executedId = 0, term = 2, set rpcTimeout = 500
candidate = 1, rpc executedId = 0, term = 2, send rpc request start......
candidate = 1, rpc executedId = 2, term = 2, set rpcTimeout = 500
My role = 0, my Id = 0, term = 1, args.Term = 2, receive a vote request from candidate = 1
My role = 0, my Id = 0, voteDone, start send channel, candidate = 1
My role = 0, my Id = 0, voteDone, somewhere receive channel, candidate = 1
candidate = 1, rpc executedId = 0, term = 2, send rpc request end, result = true......
candidate = 1, term = 2, rpcChan has not been closed
%!(EXTRA int=0)candidate = 1, term = 2, rpc executedId = 0, rpcReplyChan sned
candidate = 1, term = 2, rpc executedId = 0, rpcReplyChan end
candidate = 1, term = 2, rpc executedId = 0, rpcReplyChan sned
candidate = 1, rpc executedId = 2, term = 2, send rpc request start......
candidate = 1, term = 2, server = 0, rpc succeeded
candidate = 1, term = 2, server = 0 voted a granted vote
candidate = 1, term = 2, server = 0, IsServerAllTrue = true, ValidServerCount = 3, rpcCount = 2
candidate = 1, term = 2, rpc executedId = 0, rpcReplyChan sned over
follower = 0, get channel rf.rpcState
follower = 0, vote to somebody
follower = 0, term = 2, timeout = 975
follower = 0, term = 2, running.........
checkOneLeader, sleep ms = 506 end
Get state, My role = 0, Id = 0, term = 2, I am not a reader
Get state, My role = 1, Id = 1, term = 2, I am not a reader
checkOneLeader, sleep ms = 493 start
leader = 2, term = 1, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan
leader = 2, term = 1, isServerAllTrue = true, ValidServerCount = 1, rpcSucceedCount = 3, rpc failure
leader = 2, term = 1, server = 0 failure times more than 1, set failure flag to it
There is no quorum
leader = 2, term = 1, transist to follower
%!(EXTRA int=0)Follower = 2, term = 1, stage start......
follower = 2, term = 1, timeout = 876
follower = 2, term = 1, running.........
leader = 2, term = 1, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan end
candidate = 1, term = 2, election time out, start a new election
candidate = 1, term = 2, numberOfVotes = 2, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 1, term = 2, get majority votes
Candidate = 1, term = 2, stage end......
leader = 1, term = 2, I am a leader now
leader = 1, term = 2, start a heartbeatTimer
leader = 1, term = 2, start select
candidate = 1, term = 2, rpc executedId = 2, rpcChan timeout, send rpcReplyChan
leader = 1, term = 2, heartbeat timerout
leader = 1, rpc executedId = 0, term = 2, set rpcTimeout = 500
leader = 1, term = 2, rpc executedId = 0, send rpc request start......
leader = 1, rpc executedId = 2, term = 2, set rpcTimeout = 500
leader = 1, term = 2, rpc executedId = 2, send rpc request start......
My role = 0, Id = 0, term = 2, get heartbeat from leader = 1
My role = 0, Id = 0, args.Term = 2, rf.currentTerm = 2
My role = 0, Id = 0, term = 2, AppendEntries true
My role = 0, Id = 0, term = 2, send heartbeatChan start
My role = 0, Id = 0, term = 2, send heartbeatChan end
follower = 0, get channel rf.rpcState
follower = 0, term = 2, timeout = 963
follower = 0, term = 2, running.........
leader = 1, term = 2, rpc executedId = 0, send rpc request end, result = true......
leader = 1, term = 2, rpc executedId = 0, rpcChan has not been closed
leader = 1, term = 2, rpc executedId = 0, rpcChan sned
leader = 1, term = 2, rpc executedId = 0, rpcChan end
leader = 1, term = 2, rpc executedId = 0, rpcReplyChan sned
leader = 1, term = 2, follower = 0, rpc succeed
heartbeat success......
leader = 1, term = 2, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 2
leader = 1, term = 2, rpc executedId = 0, rpcReplyChan sned over
checkOneLeader, sleep ms = 493 end
Get state, My role = 0, Id = 0, term = 2, I am not a reader
Get state, My role = 2, Id = 1, term = 2, I am a reader
checkOneLeader, return leaders[lastTermWithLeader][0] = 1
TestReElection2A, Second, if the old leader rejoins, that shouldnot disturb the new leader.
TestReElection2A, Second, leader1 = 2 re-connect
connect(2)
checkOneLeader, sleep ms = 493 start
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = false......
leader = 2, term = 1, rpc executedId = 0, rpcChan has been closed, donot send rpcChan
leader = 1, term = 2, rpc executedId = 2, rpcLeaderReplyChan timeout, send rpcReplyChan
leader = 1, term = 2, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 2, rpc failure
leader = 1, term = 2, server = 2 failure times more than 1, set failure flag to it
There is quorum
leader = 1, term = 2, heartbeat operation end, reset the leaderTimer
leader = 1, term = 2, stage of leader end
leader = 1, term = 2, start a heartbeatTimer
leader = 1, term = 2, start select
leader = 1, term = 2, rpc executedId = 2, rpcLeaderReplyChan timeout, send rpcReplyChan end
checkOneLeader, sleep ms = 493 end
Get state, My role = 0, Id = 0, term = 2, I am not a reader
Get state, My role = 2, Id = 1, term = 2, I am a reader
Get state, My role = 0, Id = 2, term = 1, I am not a reader
checkOneLeader, return leaders[lastTermWithLeader][0] = 1
TestReElection2A, Third, if there's no quorum, no leader should be elected.
TestReElection2A, Third, leader2 = 1, (leader2+1) mod servers = 2 disconnect, servers = 3
TestReElection2A, Third, 2 * RaftElectionTimeout = 2s.
disconnect(1)
disconnect(2)
TestReElection2A, Third, 2 * RaftElectionTimeout start 
leader = 1, term = 2, heartbeat timerout
leader = 1, rpc executedId = 0, term = 2, set rpcTimeout = 500
leader = 1, term = 2, rpc executedId = 0, send rpc request start......
leader = 1, rpc executedId = 2, term = 2, set rpcTimeout = 500
leader = 1, term = 2, rpc executedId = 2, send rpc request start......
follower = 2, get timer.C channel, time out
Follower = 2, term = 1, stage end......
Candidate = 2, term = 2, stage start......
electTimer = 450
candidate = 2, rpc executedId = 0, term = 2, set rpcTimeout = 500
candidate = 2, rpc executedId = 0, term = 2, send rpc request start......
candidate = 2, rpc executedId = 1, term = 2, set rpcTimeout = 500
candidate = 2, rpc executedId = 1, term = 2, send rpc request start......
follower = 0, get timer.C channel, time out
Follower = 0, term = 2, stage end......
Candidate = 0, term = 3, stage start......
electTimer = 456
candidate = 0, rpc executedId = 1, term = 3, set rpcTimeout = 500
candidate = 0, rpc executedId = 1, term = 3, send rpc request start......
candidate = 0, rpc executedId = 2, term = 3, set rpcTimeout = 500
candidate = 0, rpc executedId = 2, term = 3, send rpc request start......
candidate = 2, term = 2, election time out, start a new election
candidate = 2, term = 2, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 2, term = 2, get less votes
Candidate = 2, term = 2, stage end......
Candidate = 2, term = 3, stage start......
electTimer = 454
candidate = 2, rpc executedId = 0, term = 3, set rpcTimeout = 500
candidate = 2, rpc executedId = 0, term = 3, send rpc request start......
candidate = 2, rpc executedId = 1, term = 3, set rpcTimeout = 500
candidate = 2, rpc executedId = 1, term = 3, send rpc request start......
leader = 1, term = 2, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan
leader = 1, term = 2, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 2, rpc failure
leader = 1, term = 2, server = 0 failure times more than 1, set failure flag to it
There is quorum
leader = 1, term = 2, heartbeat operation end, reset the leaderTimer
leader = 1, term = 2, stage of leader end
leader = 1, term = 2, start a heartbeatTimer
leader = 1, term = 2, start select
leader = 1, term = 2, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan end
leader = 1, term = 2, rpc executedId = 2, rpcLeaderReplyChan timeout, send rpcReplyChan
candidate = 2, term = 2, rpc executedId = 0, rpcChan timeout, send rpcReplyChan
candidate = 2, term = 2, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
leader = 1, term = 2, heartbeat timerout
leader = 1, term = 2, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 2, rpc failure
leader = 1, term = 2, server = 2 failure times more than 1, set failure flag to it
leader = 1, term = 2, follower = 2, rpc failure
leader = 1, term = 2, rpc executedId = 2, rpcLeaderReplyChan timeout, send rpcReplyChan end
leader = 1, rpc executedId = 0, term = 2, set rpcTimeout = 500
leader = 1, term = 2, rpc executedId = 0, send rpc request start......
leader = 2, term = 1, rpc executedId = 1, send rpc request end, result = false......
leader = 2, term = 1, rpc executedId = 1, rpcChan has been closed, donot send rpcChan
candidate = 2, rpc executedId = 0, term = 2, send rpc request end, result = false......
candidate = 2, term = 2, rpcChan has been closed
%!(EXTRA int=0)candidate = 0, term = 3, election time out, start a new election
candidate = 0, term = 3, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 0, term = 3, get less votes
Candidate = 0, term = 3, stage end......
Candidate = 0, term = 4, stage start......
electTimer = 415
candidate = 0, rpc executedId = 1, term = 4, set rpcTimeout = 500
candidate = 0, rpc executedId = 1, term = 4, send rpc request start......
candidate = 0, rpc executedId = 2, term = 4, set rpcTimeout = 500
candidate = 0, rpc executedId = 2, term = 4, send rpc request start......
candidate = 0, term = 3, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
candidate = 0, term = 3, rpc executedId = 2, rpcChan timeout, send rpcReplyChan
candidate = 2, term = 3, election time out, start a new election
candidate = 2, term = 3, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 2, term = 3, get less votes
Candidate = 2, term = 3, stage end......
Candidate = 2, term = 4, stage start......
electTimer = 466
candidate = 2, rpc executedId = 0, term = 4, set rpcTimeout = 500
candidate = 2, rpc executedId = 0, term = 4, send rpc request start......
candidate = 2, rpc executedId = 1, term = 4, set rpcTimeout = 500
candidate = 2, rpc executedId = 1, term = 4, send rpc request start......
candidate = 2, term = 3, rpc executedId = 0, rpcChan timeout, send rpcReplyChan
candidate = 2, term = 3, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
leader = 1, term = 2, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan
leader = 1, term = 2, isServerAllTrue = true, ValidServerCount = 2, rpcSucceedCount = 2, rpc failure
leader = 1, term = 2, server = 0 failure times more than 1, set failure flag to it
There is no quorum
leader = 1, term = 2, transist to follower
%!(EXTRA int=0)Follower = 1, term = 2, stage start......
follower = 1, term = 2, timeout = 833
follower = 1, term = 2, running.........
leader = 1, term = 2, rpc executedId = 0, rpcLeaderReplyChan timeout, send rpcReplyChan end
candidate = 0, term = 4, election time out, start a new election
candidate = 0, term = 4, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 0, term = 4, get less votes
Candidate = 0, term = 4, stage end......
Candidate = 0, term = 5, stage start......
electTimer = 414
candidate = 0, rpc executedId = 1, term = 5, set rpcTimeout = 500
candidate = 0, rpc executedId = 1, term = 5, send rpc request start......
candidate = 0, rpc executedId = 2, term = 5, set rpcTimeout = 500
candidate = 0, rpc executedId = 2, term = 5, send rpc request start......
candidate = 0, rpc executedId = 2, term = 3, send rpc request end, result = false......
candidate = 0, term = 3, rpcChan has been closed
%!(EXTRA int=2)candidate = 0, term = 4, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
candidate = 0, term = 4, rpc executedId = 2, rpcChan timeout, send rpcReplyChan
candidate = 2, term = 4, election time out, start a new election
candidate = 2, term = 4, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 2, term = 4, get less votes
Candidate = 2, term = 4, stage end......
Candidate = 2, term = 5, stage start......
electTimer = 480
candidate = 2, rpc executedId = 0, term = 5, set rpcTimeout = 500
candidate = 2, rpc executedId = 0, term = 5, send rpc request start......
candidate = 2, rpc executedId = 1, term = 5, set rpcTimeout = 500
candidate = 2, rpc executedId = 1, term = 5, send rpc request start......
candidate = 2, term = 4, rpc executedId = 0, rpcChan timeout, send rpcReplyChan
candidate = 2, term = 4, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
candidate = 0, term = 5, election time out, start a new election
candidate = 0, term = 5, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 0, term = 5, get less votes
Candidate = 0, term = 5, stage end......
Candidate = 0, term = 6, stage start......
electTimer = 452
candidate = 0, rpc executedId = 1, term = 6, set rpcTimeout = 500
candidate = 0, rpc executedId = 1, term = 6, send rpc request start......
candidate = 0, rpc executedId = 2, term = 6, set rpcTimeout = 500
candidate = 0, rpc executedId = 2, term = 6, send rpc request start......
candidate = 0, term = 5, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
candidate = 0, term = 5, rpc executedId = 2, rpcChan timeout, send rpcReplyChan
candidate = 2, term = 5, election time out, start a new election
candidate = 2, term = 5, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 2, term = 5, get less votes
Candidate = 2, term = 5, stage end......
Candidate = 2, term = 6, stage start......
electTimer = 438
candidate = 2, rpc executedId = 0, term = 6, set rpcTimeout = 500
candidate = 2, rpc executedId = 0, term = 6, send rpc request start......
candidate = 2, rpc executedId = 1, term = 6, set rpcTimeout = 500
candidate = 2, rpc executedId = 1, term = 6, send rpc request start......
candidate = 2, term = 5, rpc executedId = 0, rpcChan timeout, send rpcReplyChan
candidate = 2, term = 5, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
follower = 1, get timer.C channel, time out
Follower = 1, term = 2, stage end......
Candidate = 1, term = 3, stage start......
electTimer = 445
candidate = 1, rpc executedId = 0, term = 3, set rpcTimeout = 500
candidate = 1, rpc executedId = 0, term = 3, send rpc request start......
candidate = 1, rpc executedId = 2, term = 3, set rpcTimeout = 500
candidate = 1, rpc executedId = 2, term = 3, send rpc request start......
TestReElection2A, Third, 2 * RaftElectionTimeout end.
cfg.n = 3
server = 0 is on the net
Get state, My role = 1, Id = 0, term = 6, I am not a reader
server = 1 is not on the net
server = 2 is not on the net
TestReElection2A, Forth, if a quorum arises, it should elect a leader.
TestReElection2A, Forth, leader2 = 1, (leader2 + 1) % servers = 2 re-connect
connect(2)
checkOneLeader, sleep ms = 498 start
candidate = 0, term = 6, election time out, start a new election
candidate = 0, term = 6, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 0, term = 6, get less votes
Candidate = 0, term = 6, stage end......
Candidate = 0, term = 7, stage start......
electTimer = 466
candidate = 0, rpc executedId = 1, term = 7, set rpcTimeout = 500
candidate = 0, rpc executedId = 1, term = 7, send rpc request start......
candidate = 0, rpc executedId = 2, term = 7, set rpcTimeout = 500
candidate = 0, rpc executedId = 2, term = 7, send rpc request start......
My role = 1, my Id = 2, term = 6, args.Term = 7, receive a vote request from candidate = 0
my role = 1, me = 2 change to follower, term = 7
My role = 1, my Id = 2, voteDone, start send channel, candidate = 0
candidate = 2, term = 7, because leader is leagal, candidate transit to follower
Candidate = 2, term = 7, stage end......
Follower = 2, term = 7, stage start......
follower = 2, term = 7, timeout = 972
follower = 2, term = 7, running.........
My role = 1, my Id = 2, voteDone, somewhere receive channel, candidate = 0
candidate = 0, rpc executedId = 2, term = 7, send rpc request end, result = true......
candidate = 0, term = 7, rpcChan has not been closed
%!(EXTRA int=2)candidate = 0, term = 7, rpc executedId = 2, rpcReplyChan sned
candidate = 0, term = 7, rpc executedId = 2, rpcReplyChan end
candidate = 0, term = 7, rpc executedId = 2, rpcReplyChan sned
candidate = 0, term = 7, server = 2, rpc succeeded
candidate = 0, term = 7, server = 2 voted a granted vote
candidate = 0, term = 7, server = 2, IsServerAllTrue = true, ValidServerCount = 3, rpcCount = 2
candidate = 0, term = 7, rpc executedId = 2, rpcReplyChan sned over
candidate = 0, term = 6, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
candidate = 0, term = 6, rpc executedId = 2, rpcChan timeout, send rpcReplyChan
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = false......
leader = 2, term = 1, rpc executedId = 0, rpcChan has been closed, donot send rpcChan
leader = 1, term = 2, rpc executedId = 0, send rpc request end, result = false......
leader = 1, term = 2, rpc executedId = 0, rpcChan has been closed, donot send rpcChan
candidate = 2, term = 6, rpc executedId = 0, rpcChan timeout, send rpcReplyChan
candidate = 2, term = 6, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
candidate = 1, term = 3, election time out, start a new election
candidate = 1, term = 3, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 1, term = 3, get less votes
Candidate = 1, term = 3, stage end......
Candidate = 1, term = 4, stage start......
electTimer = 495
candidate = 1, rpc executedId = 0, term = 4, set rpcTimeout = 500
candidate = 1, rpc executedId = 0, term = 4, send rpc request start......
candidate = 1, rpc executedId = 2, term = 4, set rpcTimeout = 500
candidate = 1, rpc executedId = 2, term = 4, send rpc request start......
candidate = 1, term = 3, rpc executedId = 0, rpcChan timeout, send rpcReplyChan
candidate = 1, term = 3, rpc executedId = 2, rpcChan timeout, send rpcReplyChan
leader = 2, term = 1, rpc executedId = 0, send rpc request end, result = false......
leader = 2, term = 1, rpc executedId = 0, rpcChan has been closed, donot send rpcChan
checkOneLeader, sleep ms = 498 end
Get state, My role = 1, Id = 0, term = 7, I am not a reader
Get state, My role = 0, Id = 2, term = 7, I am not a reader
checkOneLeader, sleep ms = 486 start
candidate = 0, term = 7, election time out, start a new election
candidate = 0, term = 7, numberOfVotes = 2, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 0, term = 7, get majority votes
Candidate = 0, term = 7, stage end......
leader = 0, term = 7, I am a leader now
leader = 0, term = 7, start a heartbeatTimer
leader = 0, term = 7, start select
candidate = 0, term = 7, rpc executedId = 1, rpcChan timeout, send rpcReplyChan
candidate = 2, rpc executedId = 1, term = 6, send rpc request end, result = false......
candidate = 2, term = 6, rpcChan has been closed
%!(EXTRA int=1)leader = 0, term = 7, heartbeat timerout
leader = 0, rpc executedId = 1, term = 7, set rpcTimeout = 500
leader = 0, term = 7, rpc executedId = 1, send rpc request start......
leader = 0, rpc executedId = 2, term = 7, set rpcTimeout = 500
leader = 0, term = 7, rpc executedId = 2, send rpc request start......
My role = 0, Id = 2, term = 7, get heartbeat from leader = 0
My role = 0, Id = 2, args.Term = 7, rf.currentTerm = 7
My role = 0, Id = 2, term = 7, AppendEntries true
My role = 0, Id = 2, term = 7, send heartbeatChan start
My role = 0, Id = 2, term = 7, send heartbeatChan end
leader = 0, term = 7, rpc executedId = 2, send rpc request end, result = true......
leader = 0, term = 7, rpc executedId = 2, rpcChan has not been closed
leader = 0, term = 7, rpc executedId = 2, rpcChan sned
leader = 0, term = 7, rpc executedId = 2, rpcChan end
leader = 0, term = 7, rpc executedId = 2, rpcReplyChan sned
follower = 2, get channel rf.rpcState
leader = 0, term = 7, follower = 2, rpc succeed
heartbeat success......
leader = 0, term = 7, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 2
follower = 2, term = 7, timeout = 920
follower = 2, term = 7, running.........
leader = 0, term = 7, rpc executedId = 2, rpcReplyChan sned over
candidate = 0, rpc executedId = 2, term = 6, send rpc request end, result = false......
candidate = 0, term = 6, rpcChan has been closed
%!(EXTRA int=2)candidate = 1, term = 4, election time out, start a new election
candidate = 1, term = 4, numberOfVotes = 1, ValidServerCount 3, calculateVoutes start
There is quorum
candidate = 1, term = 4, get less votes
Candidate = 1, term = 4, stage end......
Candidate = 1, term = 5, stage start......
electTimer = 479
candidate = 1, rpc executedId = 0, term = 5, set rpcTimeout = 500
candidate = 1, rpc executedId = 0, term = 5, send rpc request start......
candidate = 1, rpc executedId = 2, term = 5, set rpcTimeout = 500
candidate = 1, rpc executedId = 2, term = 5, send rpc request start......
candidate = 1, term = 4, rpc executedId = 0, rpcChan timeout, send rpcReplyChan
candidate = 1, term = 4, rpc executedId = 2, rpcChan timeout, send rpcReplyChan
checkOneLeader, sleep ms = 486 end
Get state, My role = 2, Id = 0, term = 7, I am a reader
Get state, My role = 0, Id = 2, term = 7, I am not a reader
checkOneLeader, return leaders[lastTermWithLeader][0] = 0
TestReElection2A, Fifth, re-join of last node shouldn't prevent leader from existing.
TestReElection2A, Fifth, leader2 = 1 re-connect
connect(1)
checkOneLeader, sleep ms = 474 start
leader = 0, term = 7, rpc executedId = 1, rpcLeaderReplyChan timeout, send rpcReplyChan
leader = 0, term = 7, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 2, rpc failure
leader = 0, term = 7, server = 1 failure times more than 1, set failure flag to it
There is quorum
leader = 0, term = 7, heartbeat operation end, reset the leaderTimer
leader = 0, term = 7, stage of leader end
leader = 0, term = 7, start a heartbeatTimer
leader = 0, term = 7, start select
leader = 0, term = 7, rpc executedId = 1, rpcLeaderReplyChan timeout, send rpcReplyChan end
leader = 0, term = 7, heartbeat timerout
leader = 0, rpc executedId = 1, term = 7, set rpcTimeout = 500
leader = 0, term = 7, rpc executedId = 1, send rpc request start......
leader = 0, rpc executedId = 2, term = 7, set rpcTimeout = 500
leader = 0, term = 7, rpc executedId = 2, send rpc request start......
My role = 1, Id = 1, term = 5, get heartbeat from leader = 0
My role = 1, Id = 1, args.Term = 7, rf.currentTerm = 5
My role = 1, Id = 1, term = 5, AppendEntries true
My role = 1, Id = 1, term = 7, send heartbeatChan start
candidate = 1, term = 7, because leader is leagal, candidate transit to follower
Candidate = 1, term = 7, stage end......
Follower = 1, term = 7, stage start......
follower = 1, term = 7, timeout = 811
follower = 1, term = 7, running.........
My role = 0, Id = 1, term = 7, send heartbeatChan end
leader = 0, term = 7, rpc executedId = 1, send rpc request end, result = true......
leader = 0, term = 7, rpc executedId = 1, rpcChan has not been closed
leader = 0, term = 7, rpc executedId = 1, rpcChan sned
leader = 0, term = 7, rpc executedId = 1, rpcChan end
leader = 0, term = 7, rpc executedId = 1, rpcReplyChan sned
My role = 0, Id = 2, term = 7, get heartbeat from leader = 0
My role = 0, Id = 2, args.Term = 7, rf.currentTerm = 7
leader = 0, term = 7, rpc executedId = 1, rpcReplyChan sned over
My role = 0, Id = 2, term = 7, AppendEntries true
My role = 0, Id = 2, term = 7, send heartbeatChan start
My role = 0, Id = 2, term = 7, send heartbeatChan end
leader = 0, term = 7, follower = 1, rpc succeed
heartbeat success......
leader = 0, term = 7, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 3
leader = 0, term = 7, ValidServerCount = 3, rpcSucceedCount = 3, a heartbeat round is end, exit heartbeat
There is quorum
leader = 0, term = 7, heartbeat operation end, reset the leaderTimer
leader = 0, term = 7, stage of leader end
leader = 0, term = 7, start a heartbeatTimer
leader = 0, term = 7, rpc executedId = 2, send rpc request end, result = true......
follower = 2, get channel rf.rpcState
follower = 2, term = 7, timeout = 880
follower = 2, term = 7, running.........
leader = 0, term = 7, start select
leader = 0, term = 7, rpc executedId = 2, rpcChan has not been closed
leader = 0, term = 7, rpc executedId = 2, rpcChan sned
leader = 0, term = 7, rpc executedId = 2, rpcChan end
leader = 0, term = 7, rpc executedId = 2, rpcReplyChan sned
leader = 0, term = 7, heartbeat timerout
leader = 0, term = 7, follower = 2, rpc succeed
heartbeat success......
leader = 0, term = 7, isServerAllTrue = false, ValidServerCount = 3, rpcSucceedCount = 4
leader = 0, term = 7, rpc executedId = 2, rpcReplyChan sned over
leader = 0, rpc executedId = 1, term = 7, set rpcTimeout = 500
leader = 0, term = 7, rpc executedId = 1, send rpc request start......
leader = 0, rpc executedId = 2, term = 7, set rpcTimeout = 500
leader = 0, term = 7, rpc executedId = 2, send rpc request start......
My role = 0, Id = 1, term = 7, get heartbeat from leader = 0
My role = 0, Id = 1, args.Term = 7, rf.currentTerm = 7
My role = 0, Id = 1, term = 7, AppendEntries true
My role = 0, Id = 1, term = 7, send heartbeatChan start
My role = 0, Id = 1, term = 7, send heartbeatChan end
follower = 1, get channel rf.rpcState
follower = 1, term = 7, timeout = 818
follower = 1, term = 7, running.........
My role = 0, Id = 2, term = 7, get heartbeat from leader = 0
My role = 0, Id = 2, args.Term = 7, rf.currentTerm = 7
My role = 0, Id = 2, term = 7, AppendEntries true
My role = 0, Id = 2, term = 7, send heartbeatChan start
My role = 0, Id = 2, term = 7, send heartbeatChan end
follower = 2, get channel rf.rpcState
follower = 2, term = 7, timeout = 956
follower = 2, term = 7, running.........
leader = 0, term = 7, rpc executedId = 1, send rpc request end, result = true......
leader = 0, term = 7, rpc executedId = 1, rpcChan has not been closed
leader = 0, term = 7, rpc executedId = 1, rpcChan sned
leader = 0, term = 7, rpc executedId = 1, rpcChan end
leader = 0, term = 7, rpc executedId = 1, rpcReplyChan sned
leader = 0, term = 7, follower = 1, rpc succeed
heartbeat success......
leader = 0, term = 7, isServerAllTrue = true, ValidServerCount = 3, rpcSucceedCount = 5
leader = 0, term = 7, ValidServerCount = 3, rpcSucceedCount = 5, a heartbeat round is end, exit heartbeat
There is quorum
leader = 0, term = 7, heartbeat operation end, reset the leaderTimer
leader = 0, term = 7, stage of leader end
leader = 0, term = 7, start a heartbeatTimer
leader = 0, term = 7, start select
leader = 0, term = 7, rpc executedId = 1, rpcReplyChan sned over
leader = 0, term = 7, rpc executedId = 2, send rpc request end, result = true......
leader = 0, term = 7, rpc executedId = 2, rpcChan has not been closed
leader = 0, term = 7, rpc executedId = 2, rpcChan sned
leader = 0, term = 7, rpc executedId = 2, rpcChan end
leader = 0, term = 7, rpc executedId = 2, rpcReplyChan sned
candidate = 1, term = 5, rpc executedId = 2, rpcChan timeout, send rpcReplyChan
candidate = 1, term = 5, rpc executedId = 0, rpcChan timeout, send rpcReplyChan
checkOneLeader, sleep ms = 474 end
Get state, My role = 2, Id = 0, term = 7, I am a reader
Get state, My role = 0, Id = 1, term = 7, I am not a reader
Get state, My role = 0, Id = 2, term = 7, I am not a reader
checkOneLeader, return leaders[lastTermWithLeader][0] = 0
TestReElection2A, end.
  ... Passed --   6.4  3   49    0
My role = 2, my Id = 0, term = 7, will be killed now
My role = 2, my Id = 0, term = 7, has been killed
My role = 0, my Id = 1, term = 7, will be killed now
My role = 0, my Id = 1, term = 7, has been killed
My role = 0, my Id = 2, term = 7, will be killed now
My role = 0, my Id = 2, term = 7, has been killed
My role = 2, my Id = 0, term = 7, send exitChan
My role = 0, my Id = 2, term = 7, send exitChan
My role = 0, my Id = 2, term = 7, send exitChan over
PASS
ok  	raft	9.953s
